<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contracts List</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.1.2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='contracts.css') }}">
</head>
<body class="bg-gray-100">
    <header>
        {% include 'topbar.html' %}
    </header>
    
    <div class="container mx-auto p-4">
        <!-- Contracts Section -->
        <h2 class="text-xl font-semibold mb-4">Contracts</h2>
        
        <div class="overflow-auto h-[80vh]">
            <table class="table-auto w-full border border-gray-300">
                <thead class="bg-gray-200">
                    <tr>
                        <th class="border border-gray-300 px-4 py-2">ID</th>
                        <th class="border border-gray-300 px-4 py-2">Name</th>
                        <th class="border border-gray-300 px-4 py-2">Contract Type</th>
                        <th class="border border-gray-300 px-4 py-2">Start Date</th>
                        <th class="border border-gray-300 px-4 py-2">End Date</th>
                        <th class="border border-gray-300 px-4 py-2">Classification</th>
                        <th class="border border-gray-300 px-4 py-2">Position</th>
                        <th class="border border-gray-300 px-4 py-2">Registration Date</th>
                    </tr>
                </thead>
                <tbody>
                    {% for contract in contracts %}
                        <tr class="bg-white even:bg-gray-100">
                            <td class="border border-gray-300 px-4 py-2">{{ contract.id }}</td>
                            <td class="border border-gray-300 px-4 py-2">{{ contract.employee }}</td>
                            <td class="border border-gray-300 px-4 py-2">{{ contract.contract_type }}</td>
                            <td class="border border-gray-300 px-4 py-2">{{ contract.start_date }}</td>
                            <td class="border border-gray-300 px-4 py-2">{{ contract.end_date }}</td>
                            <td class="border border-gray-300 px-4 py-2">{{ contract.classification }}</td>
                            <td class="border border-gray-300 px-4 py-2">{{ contract.position }}</td>
                            <td class="border border-gray-300 px-4 py-2">{{ contract.registration_date }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- Add Contract Button and Popup Form -->
        <button class="fixed bottom-4 right-4 bg-green-600 text-white py-2 px-4 rounded-lg shadow-lg hover:bg-green-700" onclick="openForm()">Add Contract</button>

        <div class="form-popup hidden fixed bottom-20 right-4 bg-white p-4 rounded-lg shadow-lg" id="myForm">
            <div class="form-container">
                {% include 'add_contract.html' %}
                <button type="button" class="btn bg-red-500 text-white py-2 px-4 rounded-lg mt-4 hover:bg-red-600" onclick="closeForm()">Close</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='javascript/add_button.js') }}"></script>
</body>
</html>
